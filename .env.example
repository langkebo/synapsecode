# Matrix Server Configuration
# Copy this file to .env and fill in your values

# Server Configuration
MATRIX_SERVER_NAME=matrix.yourdomain.com
MATRIX_DOMAIN=yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com

# Security Secrets - Generate these with: openssl rand -base64 32
POSTGRES_PASSWORD=your_secure_postgres_password_here
REGISTRATION_SHARED_SECRET=your_secure_registration_secret_here
MACAROON_SECRET_KEY=your_secure_macaroon_secret_here
FORM_SECRET=your_secure_form_secret_here

# Database Configuration
POSTGRES_DB=synapse
POSTGRES_USER=synapse

# Feature Flags
ENABLE_REGISTRATION=false
REPORT_STATS=no
FRIENDS_ENABLED=true

# Performance Settings
MAX_UPLOAD_SIZE=50M
SYNAPSE_CACHE_FACTOR=1.0
SYNAPSE_EVENT_CACHE_SIZE=10000

# Friends Feature Configuration
MAX_FRIENDS_PER_USER=1000
FRIEND_REQUEST_TIMEOUT=604800
FRIEND_RATE_LIMIT_REQUESTS_PER_HOUR=10
FRIEND_RATE_LIMIT_WINDOW=3600

# Monitoring (Optional)
GRAFANA_PASSWORD=your_secure_grafana_password_here
ENABLE_MONITORING=false

# Redis Configuration (Optional but Recommended)
REDIS_HOST=redis
REDIS_PORT=6379

# SSL Configuration
SSL_CERT_PATH=/etc/letsencrypt/live/matrix.yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/matrix.yourdomain.com/privkey.pem

# Backup Configuration
BACKUP_RETENTION_DAYS=7
BACKUP_COMPRESSION=true